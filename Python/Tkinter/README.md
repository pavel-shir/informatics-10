# Tkinter

## Описание

Tkinter – это пакет для Python, предназначенный для работы с библиотекой Tk. Библиотека Tk содержит компоненты графического интерфейса. Эта библиотека написана на языке программирования Tcl.

Под графическим интерфейсом пользователя (GUI) подразумеваются все те окна, кнопки, текстовые поля для ввода, скроллеры, списки, радиокнопки, флажки и др., которые вы видите на экране, открывая то или иное приложение. Через них вы взаимодействуете с программой и управляете ею. В Tkinter все эти элементы интерфейса будем называть виджетами (widgets).

В настоящее время почти все приложения, которые создаются для конечного пользователя, имеют GUI. Редкие программы, подразумевающие взаимодействие с человеком, остаются консольными.

Существует множество библиотек GUI для Python (Tkinter, wxPython, JPython), среди которых Tk не самый популярный инструмент, хотя с его помощью написано немало проектов. Он был выбран для Python по-умолчанию. Интерпретатора Питона обычно уже включает пакет tkinter в составе стандартной библиотеки.

Tkinter можно представить как переводчик с языка Python на язык Tcl. Вы пишете программу на Python, а код модуля tkinter переводит ваши инструкции на язык Tcl, который понимает библиотека Tk.

Программы с графическим интерфейсом пользователя событийно-ориентированные. Событийно-ориентированное ориентировано на события: та или иная часть программного кода начинает выполняться лишь тогда, когда случается то или иное событие.

Событийно-ориентированное программирование базируется на объектно-ориентированном и структурном. Даже если мы не создаем собственных классов и объектов, то все-равно ими пользуемся. Все виджеты – объекты, порожденные встроенными в библиотеку Tkinter классами.

События бывают разными. Сработал временной фактор, кто-то кликнул мышкой или нажал Enter, начал вводить текст, переключил радиокнопки, прокрутил страницу вниз и т. д. Когда случается что-то подобное, то, если был создан соответствующий обработчик, происходит срабатывание определенной части программы, что приводит к какому-либо результату.

Tkinter импортируется стандартно для модуля Python любым из способов:

    import tkinter
    from tkinter import *
    import tkinter as tk

Можно импортировать отдельные классы и константы, но делается это довольно редко из-за неудобства. В данном репозитории я буду использовать `import tkinter as tk`, так как это не засоряет пространство имен в нашей программе и дает достаточно короткую запись для классов Tk.

## Первая программа

Чтобы написать GUI-программу, надо выполнить приблизительно следующее:

1. Cоздать главное окно.

2. Настроить приложение:
    - Создать виджеты и выполнить конфигурацию их свойств (опций).
    - Определить события, то есть то, на что будет реагировать программа.
    - Описать обработчики событий, то есть то, как будет реагировать программа.
    - Расположить виджеты в главном окне.

3. Запустить цикл обработки событий.

В современных операционных системах любое пользовательское приложение заключено в окно, которое можно назвать главным, так как в нем располагаются все остальные виджеты. Объект окна верхнего уровня создается от класса `Tk` модуля `tkinter`. Переменную, связываемую с объектом, часто называют `root` (корень):

    root = tk.Tk()

Пусть в окне приложения располагаются текстовое поле, метка и кнопка. Данные объекты создаются от классов `Entry`, `Label` и `Button` модуля `tkinter`. Мы сразу сконфигурируем некоторые их свойства с помощью передачи аргументов конструкторам этих классов:

    entry = Entry(root, width=20)
    btn = Button(root, text='Преобразовать')
    labal = Label(root, width=20, bg='black', fg='white')

Устанавливать свойства объектов не обязательно при их создании - это можно сделать и после создания объекта.

Первым аргументом в конструктор виджета передается виджет-родитель - то есть тот, в котором будет располагаться создаваемый. В случае, когда элементы GUI помещаются непосредственно на главное окно, родителя можно не указывать. То есть в нашем примере мы можем убрать `root`:

    entry = Entry(root, width=20)
    btn = Button(root, text='Преобразовать')
    label = Label(root, width=20, bg='black', fg='white')

Однако виджеты не обязательно располагаются на `root`'е. Они могут находиться на других виджетах, и тогда указывать "родителя" необходимо.

Пусть в программе текст, введенный человеком в поле, при нажатии на кнопку разбивается на список слов, слова сортируются по алфавиту и выводятся в метке. Выполняющий все это код надо поместить в функцию:

    def str_to_sort_list():
        s = entry.get()
        s = s.split()
        s.sort()
        label['text'] = ' '.join(s)

Саму функции нужно _связать_ с кнопкой - так, чтобы при нажатии на кнопку эта функция выполнялась. Это можно сделать с помощью передачи функции в виде параметра в конструктор `Button`:

    btn = Button(root, text='Преобразовать', command=str_to_sort_list)

В качестве альтернативы можно связывать существующие функции и объекты с помощью метода `bind`, но в этой статье он рассматриваться не будет.

В любом приложении виджеты не разбросаны по окну как попало, а организованы, интерфейс продуман до мелочей и обычно подчинен определенным стандартам. Пока расположим элементы друг под другом с помощью наиболее простого менеджера геометрии `tkinter` – метода `pack`:

    entry.pack()
    btn.pack()
    label.pack()

Также сушествуют менеджеры геометрии `place` и `grid`, но они будут рассмотрены в других статьях.

Метод `mainloop` экземпляра `Tk` запускает главный цикл обработки событий, что в том числе приводит к отображению главного окна со всеми "упакованными" на нем виджетами:

    root.mainloop()

Полный код программы:

    import tkinter as tk
        
        
    def str_to_sort_list():
        s = entry.get()
        s = s.split()
        s.sort()
        label['text'] = ' '.join(s)


    root = tk.Tk()

    entry = tk.Entry(width=20)
    btn = tk.Button(text='Преобразовать', command=str_to_sort_list)
    label = tk.Label(width=20, bg='black', fg='white')

    entry.pack()
    btn.pack()
    label.pack()

    root.mainloop()

У самого объекта класса `Tk` есть собственные свойства и методы.

К примеру, можно установить название окна:

    root.title('Название окна')

Или задать его размеры:

    root.geometry('300x400+200+100')

В последней примере для окна будут заданы ширинa в 300px и высотa в 400px, при этом отступы окна от границы экрана будут 200px по горизонтали и 100px по вертикали.
